Log file created at: 2016/09/08 19:13:35
Running on machine: zhouliang
Binary: Built with gc go1.6 for windows/amd64
Log line format: [IWEF]mmdd hh:mm:ss.uuuuuu threadid file:line] msg
I0908 19:13:35.400283   18436 yamlUitls.go:88] 开始读取Agent配置文件E:\GitHub\ctg_uconf_agent\src\ctg.com\uconf\agent\conf\uconf.yml
I0908 19:13:35.402290   18436 yamlUitls.go:95] 成功读取Agent配置文件,配置内容如下:
enabled: true						#是否监听配置变化
server:
 ip: 10.142.90.23   #127.0.0.1					#10.142.90.23 服务端Ip
 port: 8082							#服务端port
 context: uconf-web 					#服务端的Web根上下文，最终拼接成：http://ip:port/context/***请求服务
apps:								#本地应用数组
- name: uconf_demo					#应用名称,可为空,只是方便配置人员识别,程序中不会用到
  key: eyJhcHBDb2RlIjoidWNvbmZfZGVtbyIsImFwcFZlcnNpb24iOiIxXzBfMF8wIiwiZW52Q29kZSI6InJkIiwidGVuYW50Q29kZSI6ImZ6In0=		#eyJhcHBDb2RlIjoidWNvbmZfZGVtbyIsImFwcFZlcnNpb24iOiIxXzBfMF8wIiwiZW52Q29kZSI6InJkIiwidGVuYW50Q29kZSI6ImZqIn0=							#应用的指纹,不可为空,由配置中心提供,
  dir: e:\uconf_demo1				#配置文件存放目录
#- name: crm_1.0					#这是另外一个应用
#....
I0908 19:13:35.402290   18436 yamlUitls.go:48] 开始解析Agent配置文件:uconf.yml.
I0908 19:13:35.402807   18436 yamlUitls.go:54] 成功解析Agent配置文件.
I0908 19:13:35.402807   18436 yamlUitls.go:61] 开始校验Agent配置文件.
I0908 19:13:35.402807   18436 yamlUitls.go:82] 校验Agent配置文件通过.
I0908 19:13:35.540731   18436 Zoo_info.go:40] [Rtn3]获取zk服务器地址列表成功.
I0908 19:13:35.540731   18436 Zoo_info.go:49] [Rtn2]获取zk根路径成功.
I0908 19:13:35.540731   18436 Zoo_info.go:56] zk服务器地址列表:10.142.90.23:8181
I0908 19:13:35.540731   18436 Zoo_info.go:58] zk根路径:/uconf
I0908 19:13:35.541231   18436 zkMgr.go:108] [Rtn1]开始建立Zk连接.
I0908 19:13:35.541231   18436 zkMgr.go:39] 监听到Zk连接状态变更事件[{EventSession StateConnecting  <nil> 10.142.90.23:8181}].
I0908 19:13:35.607788   18436 zkMgr.go:39] 监听到Zk连接状态变更事件[{EventSession StateConnected  <nil> 10.142.90.23:8181}].
I0908 19:13:35.679765   18436 zkMgr.go:39] 监听到Zk连接状态变更事件[{EventSession StateHasSession  <nil> 10.142.90.23:8181}].
I0908 19:13:35.679765   18436 zkMgr.go:41] 与ZK服务器会话建立成功.
I0908 19:13:35.680264   18436 zkMgr.go:90] 与zk服务器建立连接成功.
I0908 19:13:35.680264   18436 zkMgr.go:114] [Rtn1]成功建立Zk连接.
I0908 19:13:35.681265   18436 main.go:77] 开始根据app key,获取app的[name,tenant,version,env]
I0908 19:13:35.860403   18436 main.go:92] 获取成功,App信息为[name=uconf_demo,tenant=fz,version=rd,env=1_0_0_0].
I0908 19:13:35.860403   18436 main.go:112] 准备发送Http请求获取应用[uconf_demo]的所有配置文件,请求的Http接口:http://10.142.90.23:8082/uconf-web/api/config/list?configType=file&version=1_0_0_0&app=uconf_demo&env=rd&tenant=fz
I0908 19:13:36.001503   18436 main.go:138] [Rtn10]配置文件remote.properties内容为:
remoteHost=127.0.0.1
remotePort=8080
I0908 19:13:36.001503   18436 main.go:139] [Rtn10]开始保存配置文件remote.properties.
I0908 19:13:36.002003   18436 main.go:138] [Rtn11]配置文件testXml.xml内容为:
<?xml version="1.0" encoding="UTF-8"?>
<routes>
    <route sourceHost="*" sourcePort="*"
        proxyHost="127.0.0.1" proxyPort="8081">
        <rule>
            <from method="get">/tradeMap</from>
            <to method="get">/tradeMap</to>
        </rule>
    </route>
</routes>
I0908 19:13:36.002003   18436 main.go:139] [Rtn11]开始保存配置文件testXml.xml.
I0908 19:13:36.002504   18436 main.go:138] [Rtn12]配置文件static.properties内容为:
staticVar=147
I0908 19:13:36.002504   18436 main.go:139] [Rtn12]开始保存配置文件static.properties.
I0908 19:13:36.002504   18436 main.go:138] [Rtn13]配置文件coefficients.properties内容为:
coefficients.properties
coe.baiFaCoe=1.3
coe.yuErBaoCoe=1.3

I0908 19:13:36.002504   18436 main.go:139] [Rtn13]开始保存配置文件coefficients.properties.
I0908 19:13:36.005006   18436 main.go:138] [Rtn14]配置文件empty.properties内容为:
redis.host=127.0.0.1
redis.port=8310
I0908 19:13:36.005006   18436 main.go:139] [Rtn14]开始保存配置文件empty.properties.
I0908 19:13:36.005505   18436 main.go:141] [Rtn10]配置文件已保存到:e:\uconf_demo1\remote.properties.
I0908 19:13:36.005505   18436 main.go:286] [Rtn10]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties.
I0908 19:13:36.005505   18436 main.go:138] [Rtn15]配置文件testXml2.xml内容为:
<?xml version="1.0" encoding="UTF-8"?>
<routes>
    <route sourceHost="*" sourcePort="*"
        proxyHost="127.0.0.1" proxyPort="8081">
        <rule>
            <from method="get">/tradeMap</from>
            <to method="get">/tradeMap</to>
        </rule>
    </route>
</routes>
I0908 19:13:36.005505   18436 main.go:139] [Rtn15]开始保存配置文件testXml2.xml.
I0908 19:13:36.008007   18436 main.go:138] [Rtn16]配置文件redis.properties内容为:
redis.host=127.0.0.1

redis.port=0090
I0908 19:13:36.008007   18436 main.go:139] [Rtn16]开始保存配置文件redis.properties.
I0908 19:13:36.009508   18436 main.go:138] [Rtn17]配置文件code.properties内容为:
syserror.paramtype=\u8bf7\u6c42\u53c2\u6570\u89e3\u6790\u9519" + "\u8bef
I0908 19:13:36.009508   18436 main.go:139] [Rtn17]开始保存配置文件code.properties.
I0908 19:13:36.010009   18436 main.go:138] [Rtn18]配置文件myserver.properties内容为:
server=127.0.0.1:16600,127.0.0.1:16602,127.0.0.1:16603
retry=5

I0908 19:13:36.010009   18436 main.go:139] [Rtn18]开始保存配置文件myserver.properties.
I0908 19:13:36.010510   18436 main.go:138] [Rtn19]配置文件testJson.json内容为:
{"message": {}, "success": "true"}
I0908 19:13:36.010510   18436 main.go:139] [Rtn19]开始保存配置文件testJson.json.
I0908 19:13:36.011510   18436 main.go:138] [Rtn20]配置文件myserver_slave.properties内容为:
#online
server=127.0.0.1:16700,127.0.0.1:16700,127.0.0.1:16700,127.0.0.1:16700
retry=3
I0908 19:13:36.011510   18436 main.go:139] [Rtn20]开始保存配置文件myserver_slave.properties.
I0908 19:13:36.013511   18436 main.go:138] [Rtn21]配置文件autoconfig.properties内容为:
auto=bbdxxjdccd
I0908 19:13:36.013511   18436 main.go:139] [Rtn21]开始保存配置文件autoconfig.properties.
I0908 19:13:36.014012   18436 main.go:141] [Rtn12]配置文件已保存到:e:\uconf_demo1\static.properties.
I0908 19:13:36.014012   18436 main.go:286] [Rtn12]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/static.properties.
I0908 19:13:36.014012   18436 main.go:138] [Rtn22]配置文件ok.properties内容为:
key=value
username=test
password=123456
dirverClass=oracle.jdbc
I0908 19:13:36.014012   18436 main.go:139] [Rtn22]开始保存配置文件ok.properties.
I0908 19:13:36.014512   18436 main.go:138] [Rtn23]配置文件autoconfig2.properties内容为:
auto2=cd
I0908 19:13:36.014512   18436 main.go:139] [Rtn23]开始保存配置文件autoconfig2.properties.
I0908 19:13:36.014512   18436 main.go:138] [Rtn24]配置文件adfasdf.xml内容为:
fasfda=afas
afasfda=fasdfasf
I0908 19:13:36.014512   18436 main.go:139] [Rtn24]开始保存配置文件adfasdf.xml.
I0908 19:13:36.042032   18436 main.go:141] [Rtn14]配置文件已保存到:e:\uconf_demo1\empty.properties.
I0908 19:13:36.042032   18436 main.go:286] [Rtn14]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/empty.properties.
I0908 19:13:36.045033   18436 main.go:141] [Rtn15]配置文件已保存到:e:\uconf_demo1\testXml2.xml.
I0908 19:13:36.045033   18436 main.go:286] [Rtn15]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/testXml2.xml.
I0908 19:13:36.046534   18436 main.go:141] [Rtn11]配置文件已保存到:e:\uconf_demo1\testXml.xml.
I0908 19:13:36.046534   18436 main.go:286] [Rtn11]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/testXml.xml.
I0908 19:13:36.065048   18436 main.go:141] [Rtn13]配置文件已保存到:e:\uconf_demo1\coefficients.properties.
I0908 19:13:36.065048   18436 main.go:286] [Rtn13]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/coefficients.properties.
I0908 19:13:36.068050   18436 main.go:141] [Rtn16]配置文件已保存到:e:\uconf_demo1\redis.properties.
I0908 19:13:36.068050   18436 main.go:286] [Rtn16]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/redis.properties.
I0908 19:13:36.069551   18436 main.go:141] [Rtn18]配置文件已保存到:e:\uconf_demo1\myserver.properties.
I0908 19:13:36.069551   18436 main.go:286] [Rtn18]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/myserver.properties.
I0908 19:13:36.072053   18436 main.go:306] [Rtn10]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties.
I0908 19:13:36.072554   18436 main.go:237] [Rtn10]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties.
I0908 19:13:36.073555   18436 main.go:141] [Rtn17]配置文件已保存到:e:\uconf_demo1\code.properties.
I0908 19:13:36.135598   18436 main.go:286] [Rtn17]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/code.properties.
I0908 19:13:36.074554   18436 main.go:141] [Rtn19]配置文件已保存到:e:\uconf_demo1\testJson.json.
I0908 19:13:36.139601   18436 main.go:286] [Rtn19]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/testJson.json.
I0908 19:13:36.080059   18436 main.go:306] [Rtn12]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/static.properties.
I0908 19:13:36.141102   18436 main.go:237] [Rtn12]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/static.properties.
I0908 19:13:36.113082   18436 main.go:306] [Rtn11]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/testXml.xml.
I0908 19:13:36.165619   18436 main.go:237] [Rtn11]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/testXml.xml.
I0908 19:13:36.132095   18436 main.go:306] [Rtn13]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/coefficients.properties.
I0908 19:13:36.188135   18436 main.go:237] [Rtn13]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/coefficients.properties.
I0908 19:13:36.143603   18436 main.go:306] [Rtn18]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/myserver.properties.
I0908 19:13:36.211652   18436 main.go:237] [Rtn18]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/myserver.properties.
I0908 19:13:36.154611   18436 main.go:141] [Rtn20]配置文件已保存到:e:\uconf_demo1\myserver_slave.properties.
I0908 19:13:36.243675   18436 main.go:286] [Rtn20]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/myserver_slave.properties.
I0908 19:13:36.155112   18436 main.go:141] [Rtn21]配置文件已保存到:e:\uconf_demo1\autoconfig.properties.
I0908 19:13:36.243675   18436 main.go:286] [Rtn21]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/autoconfig.properties.
I0908 19:13:36.158614   18436 main.go:141] [Rtn22]配置文件已保存到:e:\uconf_demo1\ok.properties.
I0908 19:13:36.243675   18436 main.go:286] [Rtn22]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/ok.properties.
I0908 19:13:36.113082   18436 main.go:306] [Rtn15]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/testXml2.xml.
I0908 19:13:36.243675   18436 main.go:237] [Rtn15]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/testXml2.xml.
I0908 19:13:36.167120   18436 main.go:141] [Rtn24]配置文件已保存到:e:\uconf_demo1\adfasdf.xml.
I0908 19:13:36.275698   18436 main.go:286] [Rtn24]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/adfasdf.xml.
I0908 19:13:36.135098   18436 main.go:306] [Rtn16]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/redis.properties.
I0908 19:13:36.275698   18436 main.go:237] [Rtn16]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/redis.properties.
I0908 19:13:36.208149   18436 main.go:306] [Rtn19]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/testJson.json.
I0908 19:13:36.325733   18436 main.go:237] [Rtn19]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/testJson.json.
I0908 19:13:36.166120   18436 main.go:141] [Rtn23]配置文件已保存到:e:\uconf_demo1\autoconfig2.properties.
I0908 19:13:36.364261   18436 main.go:286] [Rtn23]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/autoconfig2.properties.
I0908 19:13:36.206649   18436 main.go:306] [Rtn17]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/code.properties.
I0908 19:13:36.364261   18436 main.go:237] [Rtn17]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/code.properties.
I0908 19:13:36.314224   18436 main.go:306] [Rtn20]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/myserver_slave.properties.
I0908 19:13:36.396784   18436 main.go:237] [Rtn20]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/myserver_slave.properties.
I0908 19:13:36.109580   18436 main.go:306] [Rtn14]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/empty.properties.
I0908 19:13:36.444817   18436 main.go:237] [Rtn14]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/empty.properties.
I0908 19:13:36.314224   18436 main.go:306] [Rtn22]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/ok.properties.
I0908 19:13:36.472838   18436 main.go:237] [Rtn22]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/ok.properties.
I0908 19:13:36.435311   18436 main.go:306] [Rtn23]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/autoconfig2.properties.
I0908 19:13:36.510367   18436 main.go:237] [Rtn23]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/autoconfig2.properties.
I0908 19:13:36.314224   18436 main.go:306] [Rtn21]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/autoconfig.properties.
I0908 19:13:36.548904   18436 main.go:237] [Rtn21]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/autoconfig.properties.
I0908 19:13:36.345247   18436 main.go:306] [Rtn24]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/adfasdf.xml.
I0908 19:13:36.580427   18436 main.go:237] [Rtn24]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/adfasdf.xml.
I0908 19:16:21.798619   18436 main.go:245] [Rtn10]监听到节点/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties发生[EventNodeDataChanged]事件.
I0908 19:16:21.798619   18436 main.go:247] [Rtn10]配置文件节点发生变化:/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties,准备重新下载.
I0908 19:16:21.798619   18436 main.go:268] [Rtn10]开始下载配置文件:remote.properties
I0908 19:16:21.973634   18436 main.go:271] [Rtn10]下载配置文件remote.properties成功.
I0908 19:16:21.973634   18436 main.go:272] [Rtn10]配置文件remote.properties内容为:
remoteHost=127.0.0.1
remotePort=8182
I0908 19:16:21.973634   18436 main.go:273] [Rtn10]开始保存配置文件remote.properties.
I0908 19:16:21.974634   18436 main.go:275] [Rtn10]配置文件已保存到:e:\uconf_demo1\remote.properties.
I0908 19:16:21.974634   18436 main.go:286] [Rtn10]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties.
I0908 19:16:22.041151   18436 main.go:306] [Rtn10]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties.
I0908 19:16:22.041151   18436 main.go:237] [Rtn10]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties.
I0908 19:19:01.809155   18436 main.go:245] [Rtn10]监听到节点/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties发生[EventNodeDataChanged]事件.
I0908 19:19:01.809155   18436 main.go:247] [Rtn10]配置文件节点发生变化:/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties,准备重新下载.
I0908 19:19:01.809155   18436 main.go:268] [Rtn10]开始下载配置文件:remote.properties
I0908 19:19:01.970816   18436 main.go:271] [Rtn10]下载配置文件remote.properties成功.
I0908 19:19:01.971290   18436 main.go:272] [Rtn10]配置文件remote.properties内容为:
remoteHost=127.0.0.1
remotePort=8288
I0908 19:19:01.971290   18436 main.go:273] [Rtn10]开始保存配置文件remote.properties.
I0908 19:19:01.972792   18436 main.go:275] [Rtn10]配置文件已保存到:e:\uconf_demo1\remote.properties.
I0908 19:19:01.972792   18436 main.go:286] [Rtn10]开始校验Zk上是否存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties.
I0908 19:19:02.039428   18436 main.go:306] [Rtn10]校验成功,Zk上存在配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties.
I0908 19:19:02.039428   18436 main.go:237] [Rtn10]开始监听配置文件节点:/uconf/fz_uconf_demo_1_0_0_0_rd/file/remote.properties.
